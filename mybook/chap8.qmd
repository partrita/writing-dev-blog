# 8장 "버그 찾기(Bug Hunt)" 패턴

"버그 찾기" 패턴은 프로그래밍 세계의 탐정 소설과 같습니다. 주인공(당신)이 미스터리한 버그를 추적하고, 여러 난관을 거쳐 마침내 해결하는 과정을 담습니다. 이는 쓰는 사람에게도 재미있고 읽는 사람에게도 흥미진진한 형식입니다.

# 8.1 목적 (Purpose)

### 8.1.1 지식 덤프 (Knowledge dump)
버그를 해결하는 과정에서 겪은 막다른 골목, 유용한 도구, 참고한 자료 등을 기록하여 미래의 나(또는 동료)가 같은 문제에 직면했을 때 시간을 절약할 수 있게 합니다.

### 8.1.2 전 세계적인 버그 인식 (Global bug awareness)
특정 라이브러리나 하드웨어의 버그를 발견했다면, 이를 공유함으로써 전 세계의 다른 개발자들이 같은 실수를 반복하지 않도록 돕거나 해당 기술의 개선을 유도할 수 있습니다.

### 8.1.3 자랑하기 (Bragging)
어려운 문제를 해결한 경험을 공유하는 것은 교육적일 뿐만 아니라, 자신의 문제 해결 능력을 입증하고 네트워크를 넓히는 좋은 방법입니다.

# 8.2 독자 (Audience)

주로 기술적 배경지식이 있는 독자들이 대상입니다.
* 비슷한 환경에서 일하는 개발자
* 버그 수정이 직업인 사람들
* 현재 비슷한 문제로 골머리를 앓고 있는 사람
* 해당 기술의 메인테이너
* 동료들

중급 이상의 독자를 상정하고 전문 용어를 사용하는 것이 자연스럽습니다.

# 8.3 "버그 찾기" 블로그 포스트 사례

### 8.3.1 Hunting a NUMA Performance Bug (Michal Chojnowski)
NUMA 아키텍처에서 발생하는 성능 저하 문제를 추적하는 과정을 다룹니다. 바이너리를 직접 수정하는 등 깊이 있는 기술적 내용을 다루면서도 이해하기 쉽게 설명하며, 단 한 줄의 코드로 문제를 해결하는 결말이 인상적입니다.

### 8.3.2 Why Is My Rust Build So Slow? (Amos Wenger)
Rust 컴파일 속도 문제를 파헤치는 방대한 분량의 글입니다. 다양한 프로파일링 기법과 도구를 소개하며, 'Cool Bear'라는 가상의 캐릭터를 등장시켜 긴 글을 지루하지 않게 만듭니다.

### 8.3.3 How a Single Line of Code Made a 24-core Server Slower Than a Laptop (Piotr Kołaczkowski)
멀티 코어 서버에서 발생하는 병목 현상을 분석하고, CPU 캐시와 메모리 관리 원리를 설명하며 문제를 해결하는 과정을 보여줍니다.

### 8.3.4 Lessons from Debugging a Tricky Direct Memory Leak (Sanchay Javeria)
Pinterest의 분산 시스템에서 발생한 메모리 누수 문제를 해결하는 과정을 교과서적인 구조(조사 -> 증거 -> 수정)로 보여줍니다.

### 8.3.5 ZFS Is Mysteriously Eating My CPU (Brendan Gregg)
플레임 그래프(Flame Graph) 창시자인 저자가 CPU 사용량 급증 원인을 플레임 그래프를 통해 ZFS 파일 시스템 버그로 좁혀가는 과정을 간결하고 명쾌하게 보여줍니다.

# 8.4 특징 (Characteristics)

### 8.4.1 시간 순서에 따른 전개
문제 발생 시점부터 해결까지의 과정을 시간 순서대로 서술하여 독자가 함께 추리해 나가는 느낌을 줍니다.

### 8.4.2 추적 과정 중심
글의 대부분(약 80%)을 문제 해결 과정(실패한 시도 포함)에 할애합니다.

### 8.4.3 풍부한 증거 제시
플레임 그래프, 로그, 차트, 코드 등 구체적인 기술적 증거를 제시하여 독자가 직접 분석해 볼 수 있게 합니다.

### 8.4.4 전문가 친화적
기초적인 개념 설명보다는 독자가 해당 기술에 익숙하다고 가정하고 깊이 있는 내용을 다룹니다.

### 8.4.5 교육적 가치
단순한 문제 해결을 넘어, 디버깅 기법이나 시스템의 작동 원리 등 독자가 다른 문제에도 적용할 수 있는 지식을 제공합니다.

# 8.5 유의사항 (Dos and don'ts)

### 8.5.1 투명성에 대한 허가 확인
보안 이슈나 회사 기밀이 포함될 수 있으므로, 코드나 세부 정보를 공개하기 전에 확인이 필요합니다.

### 8.5.2 기술적 깊이 확보
코드 샘플, 환경 설정, 재현 방법 등을 상세히 기술하여 신뢰성을 높이세요.

### 8.5.3 실패를 솔직하게 공유
완벽한 해결 과정만 보여주려 하지 말고, 막다른 골목이나 실수도 공유하세요. 그 과정이 더 교육적이고 인간적입니다.

### 8.5.4 숫자와 그래프 활용
"빨라졌다"는 모호한 표현 대신 구체적인 성능 지표나 플레임 그래프 등을 제시하세요.

### 8.5.5 스포일러 자제 (긴장감 유지)
결론을 미리 말하지 말고, 탐정 소설처럼 긴장감을 유지하며 해결책(The Fix)을 향해 나아가세요.

### 8.5.6 해결책은 명확하게 표시
성격 급한 독자나 해결책만 필요한 독자를 위해 "해결 방법(The Fix)" 섹션을 명확히 구분하세요.

### 8.5.7 적절한 휴식 지점 제공
글이 길어지면 중간 요약이나 단계 구분을 통해 독자가 쉬어갈 수 있게 하세요.

### 8.5.8 생동감 있게 쓰기
딱딱한 보고서가 아닌, 개인적인 감정과 생각을 담은 이야기처럼 쓰세요. 현재형 서술이나 내적 독백을 활용하면 좋습니다.

### 8.5.9 도움 준 사람들에게 감사 표시
버그 해결에 도움을 준 동료나 오픈 소스 커뮤니티에 감사를 표하세요.

### 8.5.10 일반화하기 (Extrapolate)
특정 버그를 넘어 해당 기술이나 언어의 일반적인 문제점으로 논의를 확장하여 더 큰 가치를 제공하세요.
